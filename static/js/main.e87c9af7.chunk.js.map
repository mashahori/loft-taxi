{"version":3,"sources":["components/Signup/signup.module.css","components/Login/Login.module.css","components/Profile/Profile.module.css","components/Header/Header.module.css","components/Map/map.module.css","modules/actions.js","components/Navigation/Navigation.js","components/Header/Header.js","components/Signup/SignupCard/SignupCard.js","components/Signup/Signup.js","components/Login/LoginCard/LoginCard.js","components/Login/Login.js","components/Map/MapCard/MapCard.js","components/Map/Map.js","components/Profile/ProfileCard/ProfileCard.js","components/Profile/Profile.js","routes/PrivateRoute.js","App.js","modules/rootReducer.js","modules/middleware.js","index.js","store.js"],"names":["module","exports","loginAction","createAction","failureAction","signupAction","logoutAction","addCardAction","Navigation","props","text","Button","to","component","Link","onClick","localStorage","clear","logout","defaultProps","connect","state","authed","dispatch","useStyles","makeStyles","bar","display","flexDirection","justifyContent","padding","zIndex","backgroundColor","Header","classes","AppBar","className","position","routes","length","style","menu","map","item","key","container","paddingTop","maxWidth","alignItems","textField","marginBottom","width","textFieldGroup","title","fontSize","subtitle","SignupCard","signup","Container","white","card","Typography","variant","link","form","onSubmit","e","preventDefault","handleSubmit","target","email","value","password","name","surname","TextField","type","required","label","group","color","Signup","user","LoginCard","login","login__submit","Login","MapCard","Card","button","mapboxgl","accessToken","Map","lng","lat","zoom","mapRef","React","createRef","this","current","center","on","getCenter","setState","toFixed","getZoom","cardIsExist","ref","height","data-testid","PureComponent","wrapper","top","left","transform","textAlign","boxSizing","ProfileCard","date","cvc","placeholder","Profile","profile","Paper","number","addCard","PrivateRoute","RouteComponent","render","App","path","INIT_STATE","getItem","JSON","parse","info","error","rootReducer","action","toString","payload","errorMessage","cardMiddleware","store","next","fetch","method","headers","body","stringify","cardNumber","expiryDate","cardName","token","then","response","json","catch","authMiddleware","setItem","registerMiddleware","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","noop","ReactDOM","theme","document","getElementById"],"mappings":"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","file":"static/js/main.e87c9af7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup\":\"signup_signup__22NK2\",\"card\":\"signup_card__RyI-9\",\"form\":\"signup_form__3OBiD\",\"group\":\"signup_group__1uUUH\",\"link\":\"signup_link__2apBC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3Sovv\",\"card\":\"Login_card__2G2-q\",\"form\":\"Login_form__3fX9X\",\"link\":\"Login_link__CjgD4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2h_0u\",\"card\":\"Profile_card__20Q5S\",\"group\":\"Profile_group__2LM8S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Header_menu__29RXm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapContainer\":\"map_mapContainer__1QMFu\",\"card\":\"map_card__3ZLO0\"};","import { createAction } from 'redux-actions';\r\n\r\nexport const loginAction = createAction('LOG_IN');\r\nexport const failureAction = createAction('FAILURE');\r\nexport const signupAction = createAction('SIGN_UP');\r\nexport const logoutAction = createAction('LOG_OUT');\r\nexport const addCardAction = createAction('ADD_CARD');\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport { logoutAction } from '../../modules/actions.js';\r\n\r\nconst Navigation =(props) => {\r\n  const { text } = props;\r\n\r\n  const handleClick = () => {\r\n    if (text === 'logout') {\r\n      localStorage.clear();\r\n      props.logout();\r\n    }\r\n    return;\r\n  }\r\n\r\n  return (\r\n      <Button to={text} component={Link} onClick={handleClick}>\r\n        {text}\r\n      </Button>\r\n    );\r\n};\r\n\r\nNavigation.propTypes = {\r\n  text: PropTypes.string,\r\n  logout: PropTypes.func,\r\n}\r\n\r\nNavigation.defaultProps = {\r\n  text: '',\r\n  logout: () => {}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authed: state.authed\r\n});\r\n\r\nconst mapDispathToProps = dispatch => ({\r\n  logout: () => dispatch(logoutAction())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(Navigation);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Navigation from '../Navigation/Navigation.js';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport { Logo } from 'loft-taxi-mui-theme';\r\nimport { Link } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport style from './Header.module.css'\r\n\r\nconst useStyles = makeStyles({\r\n  bar: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      justifyContent: 'space-between',\r\n      padding: '0 24px',\r\n      zIndex: 10,\r\n      backgroundColor: '#ffffff',\r\n  },\r\n});\r\n\r\nconst Header = (props) => {\r\n  const classes = useStyles();\r\n  return (\r\n  <AppBar className={classes.bar} position=\"fixed\">\r\n    <Link to=\"/map\">\r\n      <Logo />\r\n    </Link>\r\n    {props.routes.length && (\r\n      <ul className={style.menu}>\r\n        {props.routes.map((item) => <li key={item}><Navigation text={item} /></li>)}\r\n      </ul>\r\n    )}\r\n  </AppBar>\r\n)};\r\n\r\nHeader.propTypes = {\r\n  routes: PropTypes.arrayOf(PropTypes.string),\r\n};\r\n\r\nHeader.defaultProps = {\r\n  routes: [],\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, TextField, Container, Typography } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport { Logo } from 'loft-taxi-mui-theme';\r\n\r\nimport style from '../signup.module.css'\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        paddingTop: '10vh',\r\n        maxWidth: '1000px',\r\n        alignItems: 'center',\r\n        display: \"flex\",\r\n    },\r\n    textField: {\r\n        marginBottom: \"30px\",\r\n        width: '100%',\r\n    },\r\n    textFieldGroup: {\r\n        width: '182px',\r\n    },\r\n    title: {\r\n        fontSize: \"36px\",\r\n        marginBottom: \"30px\",\r\n    },\r\n    subtitle: {\r\n        marginBottom: \"30px\",\r\n        display: \"flex\",\r\n    }\r\n});\r\n\r\nconst SignupCard = (props) => {\r\n    const classes = useStyles();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.handleSubmit(\r\n            e.target.email.value,\r\n            e.target.password.value,\r\n            e.target.name.value,\r\n            e.target.surname.value,\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={style.signup}>\r\n            <Container className={classes.container} maxWidth=\"md\">\r\n                <Logo white />\r\n                <div className={style.card}>\r\n                    <Typography variant=\"h2\" className={classes.title}>Регистрация</Typography>\r\n                    <Typography variant=\"subtitle2\" className={classes.subtitle}>\r\n                        Уже зарегестрированы?\r\n                        <Link className={style.link} to=\"/login\">Войти</Link>\r\n                    </Typography>\r\n                    <form className={style.form} onSubmit={handleSubmit}>\r\n                        <TextField className={classes.textField} type=\"email\" name=\"email\" required label={<span>Адрес электронной почты</span>} />\r\n                        <div className={style.group}>\r\n                          <TextField className={classes.textFieldGroup} type=\"text\" name=\"name\" required label={<span>Имя</span>} />\r\n                          <TextField className={classes.textFieldGroup} type=\"text\" name=\"surname\" required label={<span>Фамилия</span>} />\r\n                        </div>\r\n                        <TextField className={classes.textField} type=\"password\" name=\"password\" required label={<span>Пароль</span>}  />\r\n                        <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                           Войти\r\n                        </Button>\r\n                    </form>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nSignupCard.propTypes = {\r\n  handleSubmit: PropTypes.func,\r\n};\r\n\r\nSignupCard.defaultProps = {\r\n  handleSubmit: () => {}\r\n};\r\n\r\nexport default SignupCard;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { signupAction } from '../../modules/actions.js';\r\nimport SignupCard from './SignupCard/SignupCard.js';\r\n\r\nconst Signup = (props) => {\r\n  const handleSubmit = (email, password, name, surname) => {\r\n    props.signup({\r\n        email: email,\r\n        password: password,\r\n        name: name,\r\n        surname: surname,\r\n      });\r\n  }\r\n\r\n\r\n    return (\r\n        <>\r\n          {props.authed ? (\r\n            <Redirect to=\"/map\" />\r\n            ) : (\r\n            <SignupCard handleSubmit={handleSubmit} />\r\n          )}\r\n        </>\r\n    );\r\n};\r\n\r\nSignup.propTypes = {\r\n  authed: PropTypes.bool,\r\n  signup: PropTypes.func,\r\n};\r\n\r\nSignup.defaultProps = {\r\n    authed: false,\r\n    signup: () => {}\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    authed: state.authed\r\n});\r\n\r\nconst mapDispathToProps = dispatch => ({\r\n  signup: (user) => dispatch(signupAction(user))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(Signup);\r\n","import React  from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, TextField, Container, Typography } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport { Logo } from 'loft-taxi-mui-theme';\r\n\r\nimport style from '../Login.module.css'\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        paddingTop: '10vh',\r\n        maxWidth: '1000px',\r\n        alignItems: 'center',\r\n        display: \"flex\",\r\n    },\r\n    textField: {\r\n        marginBottom: \"30px\",\r\n        width: '100%',\r\n    },\r\n    title: {\r\n        fontSize: \"36px\",\r\n        marginBottom: \"30px\",\r\n    },\r\n    subtitle: {\r\n        marginBottom: \"30px\",\r\n        display: \"flex\",\r\n    }\r\n  });\r\n\r\nconst LoginCard = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.handleSubmit(e.target.email.value, e.target.password.value);\r\n  };\r\n\r\n  return (\r\n    <div className={style.login}>\r\n      <Container className={classes.container}>\r\n        <Logo white />\r\n        <div className={style.card}>\r\n          <Typography variant=\"h2\" className={classes.title}>Войти</Typography>\r\n          <Typography variant=\"subtitle2\" className={classes.subtitle}>\r\n              Новый пользователь?\r\n              <Link className={style.link} to=\"/signup\">Зарегестрируйтесь</Link>\r\n          </Typography>\r\n          <form className={style.form} onSubmit={handleSubmit}>\r\n            <TextField className={classes.textField} type=\"email\" name=\"email\" required label={<span>Имя пользователя</span>} />\r\n            <TextField className={classes.textField} type=\"password\" name=\"password\" required label={<span>Пароль</span>}  />\r\n            <Button className={style.login__submit} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n              Войти\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nLoginCard.propTypes = {\r\n  handleSubmit: PropTypes.func,\r\n}\r\n\r\nLoginCard.defaultProps = {\r\n  handleSubmit: () => {},\r\n};\r\n\r\nexport default LoginCard;\r\n","import React  from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { loginAction } from '../../modules/actions.js';\r\nimport LoginCard from './LoginCard/LoginCard.js';\r\n\r\nconst Login = (props) => {\r\n    const handleSubmit = (email, password) => {\r\n      props.login({\r\n        email: email,\r\n        password: password,\r\n      });\r\n    }\r\n\r\n    return (\r\n        <>\r\n          {props.authed ? (\r\n            <Redirect to=\"/map\" />\r\n          ) : (\r\n            <LoginCard handleSubmit={handleSubmit} />\r\n          )}\r\n        </>\r\n    );\r\n}\r\n\r\nLogin.propTypes = {\r\n  authed: PropTypes.bool,\r\n  login: PropTypes.func,\r\n}\r\n\r\nLogin.defaultProps = {\r\n  authed: false,\r\n  login: () => {},\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authed: state.authed,\r\n});\r\n\r\nconst mapDispathToProps = dispatch => ({\r\n  login: (user) => dispatch(loginAction(user)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(Login);\r\n","import React from 'react';\r\nimport { Button, Card, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport style from '../map.module.css'\r\n\r\nconst useStyles = makeStyles({\r\n  title: { \r\n      fontSize: \"36px\",\r\n      marginBottom: \"30px\",\r\n  },\r\n  text: { \r\n    fontSize: \"16px\",\r\n    marginBottom: \"30px\",\r\n  },\r\n});\r\n\r\nconst MapCard = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={style.card}>\r\n      <Typography variant=\"h2\" className={classes.title}>Заполните платежные данные</Typography>\r\n      <Typography variant=\"subtitle1\" className={classes.text}>Укажите информацию о банковской карте, чтобы сделать заказ.</Typography>\r\n      <Button className={classes.button} to=\"profile\" component={Link} variant=\"contained\" color=\"primary\">\r\n        Перейти в профиль\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MapCard;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport MapCard from './MapCard/MapCard.js';\r\nimport { connect } from 'react-redux';\r\n\r\nmapboxgl.accessToken = 'pk.eyJ1IjoibXlha2ltZW5rbyIsImEiOiJjazV2NGs5bDQwOHBhM25sYjdoejN5YmlhIn0.jrA7S2ccVQ6ZuC3tU9wCbQ';\r\n\r\nclass Map extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      lng: 30.3,\r\n      lat: 59.9,\r\n      zoom: 12\r\n    };\r\n\r\n    this.mapRef = React.createRef()\r\n  }\r\n\r\n  static propTypes = {\r\n    cardIsExist: PropTypes.bool,\r\n  }\r\n\r\n  static defaultProps = {\r\n    cardIsExist: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { lng, lat, zoom } = this.state;\r\n\r\n    const map = new mapboxgl.Map({\r\n      container: this.mapRef.current,\r\n      style: 'mapbox://styles/mapbox/streets-v9',\r\n      center: [lng, lat],\r\n      zoom\r\n    });\r\n\r\n    map.on('move', () => {\r\n      const { lng, lat } = map.getCenter();\r\n\r\n      this.setState({\r\n        lng: lng.toFixed(4),\r\n        lat: lat.toFixed(4),\r\n        zoom: map.getZoom().toFixed(2)\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { cardIsExist } = this.props;\r\n    return (\r\n      <>\r\n        <div ref={this.mapRef} style={{ height: '100vh', width: '100vw' }} data-testid=\"map\" />\r\n        {!cardIsExist && <MapCard />}\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    cardIsExist: state.cardIsExist\r\n});\r\n\r\nexport default connect(mapStateToProps)(Map);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, TextField, Card } from '@material-ui/core';\r\nimport style from '../Profile.module.css'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  wrapper: {\r\n      maxWidth: '630px',\r\n      padding: '44px 60px',\r\n      position: 'absolute',\r\n      top: '100px',\r\n      left: '50%',\r\n      transform: 'translateX(-50%)',\r\n      textAlign: 'center',\r\n  },\r\n  textField: {\r\n      marginBottom: '30px',\r\n      width: '100%'\r\n  },\r\n  title: {\r\n      fontSize: \"36px\",\r\n  },\r\n  subtitle: {\r\n      marginBottom: \"40px\",\r\n  },\r\n  card: {\r\n    maxWidth: '300px',\r\n    padding: '16px 32px',\r\n    boxSizing: 'border-box',\r\n  }\r\n});\r\n\r\nconst ProfileCard = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.handleSubmit(\r\n      e.target.card.value,\r\n      e.target.surname.value,\r\n      e.target.date.value,\r\n      e.target.cvc.value,\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form className={style.form} onSubmit={handleSubmit}>\r\n      <div className={style.group}>\r\n        <Card className={classes.card}>\r\n          <TextField \r\n            className={classes.textField}\r\n            type=\"number\"\r\n            name=\"card\"\r\n            placeholder=\"0000000000000000\"\r\n            required label={<span>Номер карты</span>} \r\n          />\r\n          <TextField\r\n            className={classes.textField}\r\n            type=\"text\"\r\n            name=\"date\"\r\n            placeholder=\"mm/yy\"\r\n            required label={<span>Срок действия</span>} />\r\n        </Card>\r\n        <Card className={classes.card}>\r\n          <TextField\r\n           className={classes.textField}\r\n           type=\"text\" name=\"surname\"\r\n           placeholder=\"name surname\"\r\n           required label={<span>Имя владельца</span>}\r\n          />\r\n          <TextField\r\n           className={classes.textField}\r\n           type=\"number\"\r\n           name=\"cvc\"\r\n           placeholder=\"cvc\"\r\n           required label={<span>CVC</span>} \r\n          />\r\n        </Card>\r\n      </div>\r\n      <Button type=\"submit\" variant=\"contained\" color=\"primary\">Сохранить</Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nProfileCard.propTypes = {\r\n  handleSubmit: PropTypes.func,\r\n};\r\n\r\nProfileCard.defaultProps = {\r\n  handleSubmit: () => {},\r\n};\r\n\r\nexport default ProfileCard;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Typography, Paper } from '@material-ui/core';\r\nimport ProfileCard from './ProfileCard/ProfileCard.js';\r\nimport style from './Profile.module.css';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { addCardAction } from '../../modules/actions.js';\r\n\r\nconst useStyles = makeStyles({\r\n  wrapper: {\r\n      maxWidth: '630px',\r\n      padding: '44px 60px',\r\n      position: 'absolute',\r\n      top: '100px',\r\n      left: '50%',\r\n      transform: 'translateX(-50%)',\r\n      textAlign: 'center',\r\n  },\r\n  textField: {\r\n      marginBottom: '30px',\r\n      width: '100%'\r\n  },\r\n  title: {\r\n      fontSize: \"36px\",\r\n  },\r\n  subtitle: {\r\n      marginBottom: \"40px\",\r\n  },\r\n  card: {\r\n    maxWidth: '300px',\r\n    padding: '16px 32px',\r\n    boxSizing: 'border-box',\r\n  }\r\n});\r\n\r\nconst Profile = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const handleSubmit = (number, name, date, cvc) => {\r\n    props.addCard({\r\n      number: number,\r\n      name: name,\r\n      date: date,\r\n      cvc: cvc,\r\n    });\r\n  };\r\n\r\n\r\n  return (\r\n      <div className={style.profile}>\r\n      <Paper className={classes.wrapper}>\r\n        <Typography variant=\"h2\" className={classes.title}>Профиль</Typography>\r\n        <Typography variant=\"subtitle2\" className={classes.subtitle}>\r\n          Способ оплаты\r\n        </Typography>\r\n        {props.cardIsExist ? (\r\n          <>\r\n            <p>Платежные данные обновлены. Теперь вы можете заказывать такси.</p>\r\n            <Button to='map' component={Link} variant=\"contained\" color=\"primary\">\r\n              Перейти на карту\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          <ProfileCard handleSubmit={handleSubmit} />\r\n        )\r\n      }\r\n      </Paper>\r\n    </div>\r\n  );\r\n\r\n};\r\n\r\nProfile.propTypes = {\r\n  addCard: PropTypes.func,\r\n  cardIsExist: PropTypes.bool,\r\n}\r\n\r\nProfile.defaultProps = {\r\n  addCard: () => {},\r\n  cardIsExist: false,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    cardIsExist: state.cardIsExist\r\n});\r\n\r\nconst mapDispathToProps = dispatch => ({\r\n  addCard: (card) => dispatch(addCardAction(card))\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(Profile);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Login from '../components/Login/Login.js';\r\n\r\nexport const PrivateRoute = ({ component: RouteComponent, ...props }) => (\r\n  <Route\r\n    render={() => (\r\n      props.authed ? (\r\n        <RouteComponent {...props}/>\r\n      ) : (\r\n        <Redirect to=\"/login\" component={Login} />\r\n      )\r\n    )\r\n    }\r\n  />\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Header from './components/Header/Header.js';\r\nimport Signup from './components/Signup/Signup.js';\r\nimport Login from './components/Login/Login.js';\r\nimport Map from './components/Map/Map.js';\r\nimport Profile from './components/Profile/Profile.js';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { PrivateRoute } from './routes/PrivateRoute.js';\r\nimport { connect } from 'react-redux';\r\n\r\nconst routes=[ 'map', 'profile', 'logout' ];\r\n\r\nconst App  = (props) => (\r\n  <BrowserRouter>\r\n      {props.authed && <Header routes={routes} />}\r\n      <Switch>\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/signup\" component={Signup} />\r\n        <PrivateRoute path=\"/profile\" component={Profile} authed={props.authed} />\r\n        <PrivateRoute path=\"/\" component={Map} authed={props.authed} />\r\n        <Route path=\"*\" component={Login} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n  </BrowserRouter>\r\n);\r\n\r\nApp.propTypes = {\r\n  authed: PropTypes.bool,\r\n}\r\n\r\nApp.defaultProps = {\r\n  authed: false,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    authed: state.authed,\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { loginAction, failureAction, signupAction, logoutAction, addCardAction } from './actions.js'\r\n\r\nexport const INIT_STATE = {\r\n  authed: localStorage.getItem('user') ? true : false,\r\n  user: {\r\n    email: localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')).email : '',\r\n    password: localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')).info : '',\r\n    name: '',\r\n    surname: '',\r\n  },\r\n  card : {\r\n    number: '',\r\n    name: '',\r\n    date: '',\r\n    cvc: '',\r\n  },\r\n  cardIsExist: false,\r\n  error: false,\r\n};\r\n\r\nexport const rootReducer = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case loginAction.toString():\r\n      return { ...state,\r\n        authed: true,\r\n        user: {\r\n          email: action.payload.email,\r\n          password: action.payload.password,\r\n        }\r\n      };\r\n    case signupAction.toString():\r\n      return { ...state,\r\n        authed: true,\r\n        user: {\r\n          email: action.payload.email,\r\n          password: action.payload.password,\r\n          name: action.payload.name,\r\n          surname: action.payload.surname,\r\n        }\r\n      };\r\n    case logoutAction.toString():\r\n      return { ...state,\r\n        authed: false,\r\n        user: {\r\n          email: '',\r\n          password: '',\r\n        },\r\n      };\r\n    case addCardAction.toString():\r\n      return { ...state,\r\n          card : {\r\n            number: action.payload.number,\r\n            name: action.payload.name,\r\n            date:  action.payload.date,\r\n            cvc:  action.payload.cvc,\r\n          },\r\n          cardIsExist: true,\r\n      };\r\n    case failureAction.toString():\r\n      return { ...state,\r\n        error: true,\r\n        errorMessage: action.payload,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n","import { loginAction, signupAction, addCardAction, failureAction } from './actions.js'\r\n\r\nexport const cardMiddleware = store => next => action => {\r\n  if (action.type === addCardAction.toString()) {\r\n    fetch(`https://loft-taxi.glitch.me/card`, {\r\n      method: 'POST',\r\n      headers: {'content-Type' : 'application/json'},\r\n      body: JSON.stringify({\r\n        cardNumber: action.payload.number,\r\n        expiryDate: action.payload.date,\r\n        cardName: action.payload.name,\r\n        cvc:  action.payload.cvc,\r\n        token: \"AUTH_TOKEN\"})})\r\n      .then(response => response.json())\r\n      .then(() => store.dispatch(action.payload))\r\n      .catch(error => failureAction(error))\r\n  }\r\n  return next(action);\r\n};\r\n\r\nexport const authMiddleware = store => next => action => {\r\n  if (action.type === loginAction.toString()) {\r\n    fetch(`https://loft-taxi.glitch.me/auth`, {\r\n      method: 'POST',\r\n      headers: {'content-Type' : 'application/json'},\r\n      body: JSON.stringify({\r\n        email: action.payload.email,\r\n        password: action.payload.password})})\r\n      .then(response => response.json())\r\n      .then((response) => localStorage.setItem('user', JSON.stringify({\r\n        email: action.payload.email,\r\n        info: response.token,\r\n      })))\r\n      .then(() => store.dispatch(action.payload))\r\n      .catch(error => failureAction(error))\r\n  }\r\n  return next(action);\r\n};\r\n\r\nexport const registerMiddleware = store => next => action => {\r\n  if (action.type === signupAction.toString()) {\r\n    fetch(`https://loft-taxi.glitch.me/register`, {\r\n      method: 'POST',\r\n      headers: {'content-Type' : 'application/json'},\r\n      body: JSON.stringify({\r\n        email: action.payload.email,\r\n        password: action.payload.password,\r\n        name: action.payload.name,\r\n        surname: action.payload.surname,\r\n      })})\r\n      .then(response => response.json())\r\n      .then((response) => localStorage.setItem('user', JSON.stringify({\r\n        email: action.payload.email,\r\n        info: response.token,\r\n      })))\r\n      .then(() => store.dispatch(action.payload))\r\n      .catch(error => failureAction(error))\r\n  }\r\n  return next(action);\r\n};\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { theme } from \"loft-taxi-mui-theme\";\r\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport { Provider } from 'react-redux';\r\nimport createStore from './store';\r\n\r\nconst store = createStore();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <MuiThemeProvider theme={theme}>\r\n      <App />\r\n    </MuiThemeProvider>\r\n  </Provider>\r\n  , document.getElementById('root')\r\n);\r\n\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport rootReducer from './modules/rootReducer.js';\r\nimport { cardMiddleware, authMiddleware, registerMiddleware } from './modules/middleware.js';\r\n\r\nconst createAppStore = () => {\r\n  const store = createStore(\r\n    rootReducer,\r\n    compose(\r\n      applyMiddleware(cardMiddleware),\r\n      applyMiddleware(authMiddleware),\r\n      applyMiddleware(registerMiddleware),\r\n      window.__REDUX_DEVTOOLS_EXTENSION__\r\n        ? window.__REDUX_DEVTOOLS_EXTENSION__()\r\n        : noop => noop,\r\n    )\r\n  );\r\n  return store;\r\n}\r\n\r\nexport default createAppStore;\r\n"],"sourceRoot":""}